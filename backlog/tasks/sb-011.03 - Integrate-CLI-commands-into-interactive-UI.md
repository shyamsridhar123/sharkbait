# Integrate CLI Commands into Interactive UI

| Field | Value |
|-------|-------|
| ID | SB-011.03 |
| Status | done |
| Priority | high |
| Created | 2025-01-29 |
| Completed | 2025-01-29 |
| Parent | SB-011 |

## Description

Make all CLI commands available as slash commands within the interactive chat UI. Users should be able to execute any command that's available via CLI directly from the interactive session without needing to exit and restart.

### CLI Commands to Integrate

| CLI Command | Proposed Slash Command | Description |
|-------------|----------------------|-------------|
| `sharkbait init` | `/init` | Initialize Sharkbait in current directory |
| `sharkbait ask <question>` | `/ask <question>` | Ask a one-off question (for piping, etc.) |
| `sharkbait run <task>` | `/run <task>` | Execute a task autonomously |
| `sharkbait setup` | `/setup` | Launch interactive setup wizard |
| `sharkbait --version` | `/version` | Show version information |
| N/A | `/context <files...>` | Add files to context |
| N/A | `/beads [on|off]` | Toggle Beads task tracking |
| N/A | `/model [name]` | Switch LLM model |
| N/A | `/exit` | Exit the application |

### Already Implemented Slash Commands
- `/cd <path>` - Change working directory
- `/pwd` - Show current working directory
- `/clear` - Clear message history
- `/help` - Show available commands

## Implementation Plan

1. **Refactor command handling** - Extract slash command logic to separate module
2. **Create command registry** - Centralize command definitions with metadata
3. **Implement new commands**:
   - `/init` - Call initProject() inline
   - `/run <task>` - Execute task without leaving UI
   - `/setup` - Show inline setup prompts or launch wizard
   - `/version` - Display version
   - `/context` - Manage context files
   - `/beads` - Toggle beads feature
   - `/model` - Switch models
   - `/exit` - Clean exit
4. **Update `/help`** - Auto-generate from registry
5. **Add tab completion** - Command name completion

## Technical Notes

- Some commands (like `/setup`) may need special handling since they have their own UI
- `/run` should show progress inline without disrupting chat flow
- Command registry should support:
  - Command name and aliases
  - Description (for /help)
  - Argument spec
  - Handler function
  - Category (navigation, config, action)

## Acceptance Criteria

- [ ] All CLI commands accessible via slash commands
- [ ] `/help` shows all available commands with descriptions
- [ ] Commands execute inline without leaving chat UI
- [ ] Error messages are user-friendly
- [ ] Tab completion for command names (stretch goal)
- [ ] Update COMMANDS.md documentation

## Files to Modify

- `src/ui/app.tsx` - Main UI component
- `src/ui/commands/` - New command registry module (create)
- `docs/COMMANDS.md` - Update documentation

## References

- [src/cli.ts](../src/cli.ts) - Current CLI commands
- [src/ui/app.tsx](../src/ui/app.tsx) - Current slash command handling
- [docs/COMMANDS.md](../docs/COMMANDS.md) - Command documentation
