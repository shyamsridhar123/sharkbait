# Implement Syntax Highlighting for Code Blocks

| Field | Value |
|-------|-------|
| ID | SB-011.06 |
| Parent | SB-011 |
| Status | done |
| Priority | medium |
| Created | 2026-01-29 |

## Description

PRD Section 5.6 requires: "Syntax-highlighted code blocks"

Currently, code in responses is rendered as plain text. Need to:
1. Parse markdown code fences (```)
2. Detect language from fence (```typescript, ```python, etc.)
3. Apply syntax highlighting
4. Render in terminal with colors

## Acceptance Criteria

- [ ] Detect ``` code fences in responses
- [ ] Extract language identifier
- [ ] Apply syntax highlighting (keywords, strings, comments, etc.)
- [ ] Render with terminal colors
- [ ] Fallback to plain text if language unknown

## Technical Options

1. **chalk + manual parsing**: Simple but limited
2. **cli-highlight**: Terminal syntax highlighting
3. **shiki**: High-quality highlighting (may need adaptation for terminal)
4. **prism-react-renderer**: React-based (may work with ink)

## Example Output

```
┌─────────────────────────────────────────────────────────────┐
│ src/utils/config.ts                                         │
├─────────────────────────────────────────────────────────────┤
│ export function loadConfig(): Config {                      │
│   const env = process.env;                                  │
│   return {                                                  │
│     endpoint: env.AZURE_OPENAI_ENDPOINT || "",              │
│   };                                                        │
│ }                                                           │
└─────────────────────────────────────────────────────────────┘
```

With colors: keywords (export, function, const) in blue, strings in green, etc.
