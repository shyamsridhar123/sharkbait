# Wire StatusBar Token Tracking

| Field | Value |
|-------|-------|
| ID | SB-011.05 |
| Parent | SB-011 |
| Status | done |
| Priority | high |
| Created | 2026-01-29 |
| Completed | 2026-01-29 |

## Description

The `StatusBar` component exists but token counting is not wired up. The `tokenCount` state in `app.tsx` is always 0.

**Current state:**
```tsx
const [tokenCount, setTokenCount] = useState(0);  // Never updated!
```

**Expected behavior:**
- Track input tokens from user messages
- Track output tokens from assistant responses
- Calculate approximate cost based on model pricing
- Display running totals in status bar

## Acceptance Criteria

- [ ] Token count updates with each message
- [ ] Cost calculation based on Azure OpenAI pricing
- [ ] Status bar shows live token/cost updates
- [ ] Session totals persist during chat

## Technical Notes

Options for token counting:
1. Use `tiktoken` library for accurate counts
2. Estimate: ~4 chars per token (rough approximation)
3. Get actual usage from API response (if available)

Azure OpenAI Codex pricing (approximate):
- Input: $0.01 per 1K tokens
- Output: $0.03 per 1K tokens
